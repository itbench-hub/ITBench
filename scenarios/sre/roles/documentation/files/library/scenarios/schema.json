{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "properties": {
        "alerts": {
            "items": {
                "type": "string"
            },
            "type": "array"
        },
        "category": {
            "enum": [
                "finops",
                "sre"
            ],
            "type": "string"
        },
        "complexity": {
            "enum": [
                "high",
                "low",
                "medium"
            ],
            "type": "string"
        },
        "disruptions": {
            "items": {
                "properties": {
                    "async": {
                        "default": true,
                        "description": "Enable faults to be injected asynchronously",
                        "type": "boolean"
                    },
                    "injections": {
                        "items": {
                            "properties": {
                                "args": {
                                    "type": "object"
                                },
                                "id": {
                                    "enum": [
                                        "cordoned-kubernetes-worker-node",
                                        "disabled-istio-ambient-mode-kubernetes-namespace",
                                        "failing-name-resolution-kubernetes-workload-dns-policy",
                                        "hanging-kubernetes-workload-init-container",
                                        "ingress-port-blocking-network-policy",
                                        "insufficient-kubernetes-resource-quota",
                                        "insufficient-kubernetes-workload-container-resources",
                                        "invalid-kubernetes-workload-container-command",
                                        "misconfigured-kubernetes-horizontal-pod-autoscaler",
                                        "misconfigured-kubernetes-workload-container-readiness-probe",
                                        "modified-kubernetes-workload-container-environment-variable",
                                        "modified-target-port-kubernetes-service",
                                        "nonexistent-kubernetes-workload-container-image",
                                        "nonexistent-kubernetes-workload-node",
                                        "nonexistent-kubernetes-workload-persistent-volume-claim",
                                        "opentelemetry-demo-feature-flag",
                                        "priority-kubernetes-workload-priority-preemption",
                                        "scheduled-chaos-mesh-experiment",
                                        "strict-mutual-tls-istio-service-mesh-enforcement",
                                        "traffic-denying-istio-gateway-authorization-policy",
                                        "unassigned-kubernetes-workload-container-resource-limits",
                                        "unschedulable-kubernetes-workload-pod-anti-affinity-rule",
                                        "unsupported-architecture-kubernetes-workload-container-image",
                                        "valkey-workload-changed-password",
                                        "valkey-workload-out-of-memory"
                                    ],
                                    "type": "string"
                                }
                            },
                            "required": [
                                "args",
                                "id"
                            ],
                            "type": "object"
                        },
                        "minItems": 1,
                        "type": "array"
                    },
                    "waitFor": {
                        "minProperties": 1,
                        "properties": {
                            "postInjection": {
                                "items": {
                                    "properties": {
                                        "args": {
                                            "type": "object"
                                        },
                                        "id": {
                                            "enum": [
                                                "pause-execution",
                                                "restart-kubernetes-workload",
                                                "scale-kubernetes-workload"
                                            ],
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "args",
                                        "id"
                                    ],
                                    "type": "object"
                                },
                                "type": "array"
                            },
                            "preInjection": {
                                "items": {
                                    "properties": {
                                        "args": {
                                            "type": "object"
                                        },
                                        "id": {
                                            "enum": [
                                                "pause-execution",
                                                "restart-kubernetes-workload",
                                                "scale-kubernetes-workload"
                                            ],
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "args",
                                        "id"
                                    ],
                                    "type": "object"
                                },
                                "type": "array"
                            }
                        },
                        "type": "object"
                    }
                },
                "type": "object"
            },
            "type": "array"
        },
        "environment": {
            "properties": {
                "applications": {
                    "items": {
                        "properties": {
                            "args": {
                                "type": "object"
                            },
                            "id": {
                                "enum": [
                                    "book-info",
                                    "opentelemetry-demo"
                                ],
                                "type": "string"
                            }
                        },
                        "required": [
                            "id"
                        ],
                        "type": "object"
                    },
                    "minItems": 1,
                    "type": "array"
                }
            },
            "required": [
                "applications"
            ],
            "type": "object"
        },
        "id": {
            "type": "integer"
        },
        "platforms": {
            "items": {
                "type": "string"
            },
            "type": "array"
        },
        "solutions": {
            "items": {
                "items": {
                    "properties": {
                        "steps": {
                            "items": {
                                "properties": {
                                    "command": {
                                        "type": "string"
                                    },
                                    "text": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "text"
                                ],
                                "type": "object"
                            },
                            "type": "array"
                        }
                    },
                    "required": [
                        "steps"
                    ],
                    "type": "object"
                },
                "type": "array"
            },
            "type": "array"
        },
        "tags": {
            "items": {
                "type": "string"
            },
            "type": "array"
        }
    },
    "required": [
        "alerts",
        "category",
        "complexity",
        "disruptions",
        "environment",
        "id",
        "platforms",
        "tags"
    ],
    "type": "object"
}
